<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Histogram</title>
	<script src="../libs/d3.v4.js"></script>
	<style>
	</style>
</head>
<body>
	<svg id="svg"></svg>
	<script>
		window.onload = function() {
			var w = 1400,
				h = 800,
				svg = d3.select("#svg").attr("width", w).attr("height", h),
				n = 100,
				margin = 30;
			var dataset = [{
				"type": "d3.randomUniform(-10,10)",
				"values": d3.range(n).map(function(i) {
					return [i, d3.randomUniform(-10, 10)()]
				})
			}, {
				"type": "d3.randomLogNormal(0,1)",
				"values": d3.range(n).map(function(i) {
					return [i, d3.randomNormal(0, 1)()]
				})
			}, {
				"type": "d3.randomLogNormal(0,1)",
				"values": d3.range(n).map(function(i) {
					return [i, d3.randomLogNormal(0, 1)()]
				})
			}, {
				"type": "d3.randomBates(5)",
				"values": d3.range(n).map(function(i) {
					return [i, d3.randomBates(1)()]
				})
			}, {
				"type": "d3.randomIrwinHall(5)",
				"values": d3.range(n).map(function(i) {
					return [i, d3.randomIrwinHall(1)()]
				})
			}, {
				"type": "d3.randomExponential(5)",
				"values": d3.range(n).map(function(i) {
					return [i, d3.randomExponential(1)()]
				})
			}]
			var linear = d3.scaleLinear()
				.range([h / 3 - margin,margin]);
			var x = d3.scaleLinear().domain([0,100]).range([margin,w/2-margin]),
				line = d3.line()

			dataset.map(draw)



			

			function draw(data, i) {
				var g = svg.append("g")
					.attr("transform", function() {
						if (i < 2) {
							return "translate(" + i * w / 2 + ",0)"
						} else if(i<4){
							return "translate(" + (i - 2) * (w / 2) + "," + h / 3 + ")";
						}else{
							return "translate(" + (i - 4) * (w / 2) + "," + h*2 / 3 + ")";
						}
					})
				var y  = linear.domain(d3.extent(data.values,function(d){
						return d[1]
					})),
					line = d3.line()
						.x(function(d){return x(d[0])})
						.y(function(d){return y(d[1])})
						.curve(d3.curveBundle.beta(0.5))

				g.append("text").attr("dy", "1em")
					.attr("x", w / 4)
					.attr("text-anchor", "middle")
					.text(data.type)
				g.append("g").attr("transform","translate("+margin+",0)").call(d3.axisLeft(y))
				g.append("g").attr("transform","translate("+0+","+(h/3-margin)+")")
					.call(d3.axisBottom(x))
				g.append("path")
					.attr("d",line(data.values))
					.attr("stroke","steelblue")
					.attr("stroke-width",2)
					.attr("fill","none")
			}
		}
	</script>
</body>
</html>